<div class="ClassDoc YAMLDoc" id="srbox" markdown="1">

# class __srbox__

A Python library to interface with Boks, a button box for psychological
and neuroscientific experiments.

If there is a Boks plug-in in your OpenSesame experiment, the `boks`
object can be accessed as `exp.boks` or `self.experiment.boks`.

__Example__:

{% highlight python %}
# Collect a response time with a 2000ms timeout
exp.boks.set_timeout(2000)
t1 = self.time()
button, t2 = exp.boks.get_button_press()
exp.set('response', button)
exp.set('response_time', t2-t1)
{% endhighlight %}

__Function list:__


- [function __srbox\.\_\_init\_\___\(port=None, experiment=None, baudrate=115200, buttons=None, timeout=None, led=False\)](#function-__srbox__init____portnone-experimentnone-baudrate115200-buttonsnone-timeoutnone-ledfalse)
- [function __srbox\.button\_count__\(\)](#function-__srboxbutton_count__)
- [function __srbox\.close__\(\)](#function-__srboxclose__)
- [function __srbox\.get\_button\_press__\(\)](#function-__srboxget_button_press__)
- [function __srbox\.get\_button\_release__\(\)](#function-__srboxget_button_release__)
- [function __srbox\.get\_button\_state__\(\)](#function-__srboxget_button_state__)
- [function __srbox\.get\_buttons__\(\)](#function-__srboxget_buttons__)
- [function __srbox\.get\_sid__\(\)](#function-__srboxget_sid__)
- [function __srbox\.get\_timeout__\(\)](#function-__srboxget_timeout__)
- [function __srbox\.info__\(\)](#function-__srboxinfo__)
- [function __srbox\.set\_buttons__\(buttons\)](#function-__srboxset_buttons__buttons)
- [function __srbox\.set\_continuous__\(continuous=True\)](#function-__srboxset_continuous__continuoustrue)
- [function __srbox\.set\_led__\(on=True\)](#function-__srboxset_led__ontrue)
- [function __srbox\.set\_timeout__\(timeout\)](#function-__srboxset_timeout__timeout)





<div class="FunctionDoc YAMLDoc" id="srbox-__init__" markdown="1">

## [function __srbox\.\_\_init\_\___\(port=None, experiment=None, baudrate=115200, buttons=None, timeout=None, led=False\)](#function-__srbox__init____portnone-experimentnone-baudrate115200-buttonsnone-timeoutnone-ledfalse) {#function-__srbox__init____portnone-experimentnone-baudrate115200-buttonsnone-timeoutnone-ledfalse}

Constructor. A Boks object is created automatically the first time that a Boks plug-in is prepared in OpenSesame.

__Example:__

{% highlight python %}
# Collect a response with a 2000ms timeout
exp.boks.set_timeout(2000)
t1 = self.time()
button, t2 = exp.boks.get_button_press()
exp.set('response', button)
exp.set('response_time', t2-t1)
{% endhighlight %}

__Keywords:__

- `port` -- The port to which the device is connected, `None` for autodetect, or 'dummy' to use the keyboard as dummy-boks.
	- Type: str, unicode, NoneType
	- Default: None
- `experiment` -- An OpenSesame experiment, or `None` to run in plain Python mode.
	- Type: experiment, NoneType
	- Default: None
- `baudrate` -- The baudrate of the boks, or `None` to use default.
	- Type: int, NoneType
	- Default: 115200
- `buttons` -- A list of buttons that are used, or None to use all buttons.
	- Type: list, NoneType
	- Default: None
- `timeout` -- A timeout in milliseconds when collecting responses or `None` for no timeout.
	- Type: float, int, NoneType
	- Default: None
- `led` -- Indicates whether the LED should be switched on.
	- Type: bool
	- Default: False

</div>

[srbox.__init__]: #srbox-__init__
[__init__]: #srbox-__init__

<div class="FunctionDoc YAMLDoc" id="srbox-button_count" markdown="1">

## [function __srbox\.button\_count__\(\)](#function-__srboxbutton_count__) {#function-__srboxbutton_count__}

Gets the number of buttons that are physically present on the device. This number includes the photodiode, so a Boks with four buttons and a photodiode will be reported as having five buttons.

__Example:__

{% highlight python %}
i = exp.boks.button_count()
print('Your Boks has %d buttons' % i)
{% endhighlight %}

__Returns:__

The number of buttons

- Type: int

</div>

[srbox.button_count]: #srbox-button_count
[button_count]: #srbox-button_count

<div class="FunctionDoc YAMLDoc" id="srbox-close" markdown="1">

## [function __srbox\.close__\(\)](#function-__srboxclose__) {#function-__srboxclose__}

Neatly close the device. This will deactivate the boks and close the serial port connection. OpenSesame will do this automatically when the experiment ends.

__Example:__

{% highlight python %}
exp.boks.close()
{% endhighlight %}

</div>

[srbox.close]: #srbox-close
[close]: #srbox-close

<div class="FunctionDoc YAMLDoc" id="srbox-get_button_press" markdown="1">

## [function __srbox\.get\_button\_press__\(\)](#function-__srboxget_button_press__) {#function-__srboxget_button_press__}

Collects a button press.

__Example:__

{% highlight python %}
# Collect a response with a 2000ms timeout
exp.boks.set_timeout(2000)
t1 = self.time()
button, t2 = exp.boks.get_button_press()
exp.set('response', button)
exp.set('response_time', t2-t1)
{% endhighlight %}

__Returns:__

A (button, timestamp) tuple. If a timeout occured, `button` is
`None`, otherwise `button` is an integers. `timestamp` is a
float value in milliseconds.

- Type: tuple

</div>

[srbox.get_button_press]: #srbox-get_button_press
[get_button_press]: #srbox-get_button_press

<div class="FunctionDoc YAMLDoc" id="srbox-get_button_release" markdown="1">

## [function __srbox\.get\_button\_release__\(\)](#function-__srboxget_button_release__) {#function-__srboxget_button_release__}

Collects a button release.

__Example:__

{% highlight python %}
# Collect a button release with a 2000ms timeout
exp.boks.set_timeout(2000)
t1 = self.time()
button, t2 = exp.boks.get_button_release()
exp.set('response', button)
exp.set('response_time', t2-t1)
{% endhighlight %}

__Returns:__

A (button, timestamp) tuple. If a timeout occured, `button` is
`None`, otherwise `button` is an integers. `timestamp` is a
float value in milliseconds.

- Type: tuple

</div>

[srbox.get_button_release]: #srbox-get_button_release
[get_button_release]: #srbox-get_button_release

<div class="FunctionDoc YAMLDoc" id="srbox-get_button_state" markdown="1">

## [function __srbox\.get\_button\_state__\(\)](#function-__srboxget_button_state__) {#function-__srboxget_button_state__}

Checks which buttons are currently pressed.

__Example:__

{% highlight python %}
l = exp.boks.get_button_state()
if 1 in l:
        print('Button 1 is pressed')
{% endhighlight %}

__Returns:__

A list of buttons that are currently pressed.

- Type: list

</div>

[srbox.get_button_state]: #srbox-get_button_state
[get_button_state]: #srbox-get_button_state

<div class="FunctionDoc YAMLDoc" id="srbox-get_buttons" markdown="1">

## [function __srbox\.get\_buttons__\(\)](#function-__srboxget_buttons__) {#function-__srboxget_buttons__}

Retrieves the list of buttons that are 'active', i.e. that are used by [get_button_press], [get_button_release], and [get_button_state].

__Example:__

{% highlight python %}
l = exp.boks.get_buttons()
if 1 in l:
        print('Button 1 is currently being monitored')
{% endhighlight %}

__Returns:__

A list of active buttons.

- Type: list

</div>

[srbox.get_buttons]: #srbox-get_buttons
[get_buttons]: #srbox-get_buttons

<div class="FunctionDoc YAMLDoc" id="srbox-get_sid" markdown="1">

## [function __srbox\.get\_sid__\(\)](#function-__srboxget_sid__) {#function-__srboxget_sid__}

Retrieves the Arduino serial ID.

__Example:__

{% highlight python %}
sid = exp.boks.get_sid()
print('The Arduino serial ID of the Boks is %s' % sid)
{% endhighlight %}

__Returns:__

A 7 character string containing the Arduino serial ID.

- Type: str

</div>

[srbox.get_sid]: #srbox-get_sid
[get_sid]: #srbox-get_sid

<div class="FunctionDoc YAMLDoc" id="srbox-get_timeout" markdown="1">

## [function __srbox\.get\_timeout__\(\)](#function-__srboxget_timeout__) {#function-__srboxget_timeout__}

Gets the timeout used by [get_button_press] and [get_button_release].

__Example:__

{% highlight python %}
exp.boks.set_timeout(2000)
t = exp.boks.get_timeout()
print('The Boks timeout is currently set to %d ms' % t)
{% endhighlight %}

__Returns:__

A timeout value in milliseconds or `None` if no timeout is set.

- Type: int

</div>

[srbox.get_timeout]: #srbox-get_timeout
[get_timeout]: #srbox-get_timeout

<div class="FunctionDoc YAMLDoc" id="srbox-info" markdown="1">

## [function __srbox\.info__\(\)](#function-__srboxinfo__) {#function-__srboxinfo__}

Gets boks device info.

__Example:__

{% highlight python %}
firmware, model = exp.boks.info()
print('Boks model: %s' % model)
print('Boks firmware: %s' % firmware)
{% endhighlight %}

__Returns:__

A (firmware_version, model) tuple. The firmware_version is a string of the format X.Y.Z. The model is a short string.

- Type: tuple

</div>

[srbox.info]: #srbox-info
[info]: #srbox-info

<div class="FunctionDoc YAMLDoc" id="srbox-set_buttons" markdown="1">

## [function __srbox\.set\_buttons__\(buttons\)](#function-__srboxset_buttons__buttons) {#function-__srboxset_buttons__buttons}

Sets which buttons should be used for [get_button_press], [get_button_release], and [get_button_state].

__Example:__

{% highlight python %}
# Only use buttons 1 and 2
exp.boks.set_buttons([1,2])
# Use all buttons except for the photodiode
exp.boks.set_buttons(None)
# Only use the photodiode (button 8)
exp.boks.set_buttons([8])
{% endhighlight %}

__Arguments:__

- `buttons` -- A list of buttons, where each button is an integer. To enable all buttons (except for the photodiode), use `None`.
	- Type: list, NoneType

</div>

[srbox.set_buttons]: #srbox-set_buttons
[set_buttons]: #srbox-set_buttons

<div class="FunctionDoc YAMLDoc" id="srbox-set_continuous" markdown="1">

## [function __srbox\.set\_continuous__\(continuous=True\)](#function-__srboxset_continuous__continuoustrue) {#function-__srboxset_continuous__continuoustrue}

Determines whether [get_button_press] and [get_button_release] are triggered only by signal changes (discontinuous) or also by continuous signals. The Boks is by default in discontinuous mode, which is generally what you want. For example, in continuous mode, [get_button_press] will respond right away if any of the buttons is already pressed, whereas you are generally interested only in buttons that go from not being pressed to being pressed.

__Example:__

{% highlight python %}
exp.boks.set_continuous(True)
t1 = exp.time()
# If some button is not pressed, this will return right away
button, t2 = exp.boks.get_button_release()
exp.set('response', button)
exp.set('response_time', t2-t1)
{% endhighlight %}

__Keywords:__

- `continuous` -- True for continuous, False for discontinuous.
	- Type: bool
	- Default: True

</div>

[srbox.set_continuous]: #srbox-set_continuous
[set_continuous]: #srbox-set_continuous

<div class="FunctionDoc YAMLDoc" id="srbox-set_led" markdown="1">

## [function __srbox\.set\_led__\(on=True\)](#function-__srboxset_led__ontrue) {#function-__srboxset_led__ontrue}

Turns the LED on or off.

__Example:__

{% highlight python %}
# Blink LED five time
for i in range(5):
        exp.boks.set_led(True)
        self.sleep(500)
        exp.boks.set_led(False)
        self.sleep(500)
{% endhighlight %}

__Keywords:__

- `on` -- Indicates whether the LED should be on or off.
	- Type: bool
	- Default: True

</div>

[srbox.set_led]: #srbox-set_led
[set_led]: #srbox-set_led

<div class="FunctionDoc YAMLDoc" id="srbox-set_timeout" markdown="1">

## [function __srbox\.set\_timeout__\(timeout\)](#function-__srboxset_timeout__timeout) {#function-__srboxset_timeout__timeout}

Sets the timeout used by [get_button_press] and [get_button_release].

__Example:__

{% highlight python %}
exp.boks.set_timeout(2000)
t = exp.boks.get_timeout()
print('The Boks timeout is currently set to %d ms' % t)
{% endhighlight %}

__Arguments:__

- `timeout` -- A value in milliseconds. Use 0 or `None` to disable timeout (i.e. to wait infinitely).
	- Type: int, NoneType

</div>

[srbox.set_timeout]: #srbox-set_timeout
[set_timeout]: #srbox-set_timeout

</div>

[srbox]: #srbox


[function __srbox\.\_\_init\_\___\(port=None, experiment=None, baudrate=115200, buttons=None, timeout=None, led=False\)]: #function-__srbox__init____portnone-experimentnone-baudrate115200-buttonsnone-timeoutnone-ledfalse
[function __srbox\.button\_count__\(\)]: #function-__srboxbutton_count__
[function __srbox\.close__\(\)]: #function-__srboxclose__
[function __srbox\.get\_button\_press__\(\)]: #function-__srboxget_button_press__
[function __srbox\.get\_button\_release__\(\)]: #function-__srboxget_button_release__
[function __srbox\.get\_button\_state__\(\)]: #function-__srboxget_button_state__
[function __srbox\.get\_buttons__\(\)]: #function-__srboxget_buttons__
[function __srbox\.get\_sid__\(\)]: #function-__srboxget_sid__
[function __srbox\.get\_timeout__\(\)]: #function-__srboxget_timeout__
[function __srbox\.info__\(\)]: #function-__srboxinfo__
[function __srbox\.set\_buttons__\(buttons\)]: #function-__srboxset_buttons__buttons
[function __srbox\.set\_continuous__\(continuous=True\)]: #function-__srboxset_continuous__continuoustrue
[function __srbox\.set\_led__\(on=True\)]: #function-__srboxset_led__ontrue
[function __srbox\.set\_timeout__\(timeout\)]: #function-__srboxset_timeout__timeout